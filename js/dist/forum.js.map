{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@yippy/flarum-tag-with-themes/webpack/bootstrap","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/compat get default export","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/define property getters","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/hasOwnProperty shorthand","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/make namespace object","webpack://@yippy/flarum-tag-with-themes/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/extend']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['forum/components/DiscussionListItem']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['utils/string']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/helpers/textContrastClass']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/components/Link']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/helpers/highlight']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@yippy/flarum-tag-with-themes/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionListItem'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/string'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/textContrastClass'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/highlight'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","import { extend, override } from 'flarum/common/extend';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport { truncate } from 'flarum/utils/string';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport classList from 'flarum/common/utils/classList';\nimport Link from 'flarum/common/components/Link';\nimport highlight from 'flarum/common/helpers/highlight';\nimport listItems from 'flarum/common/helpers/listItems';\n\nconst designOptions = {\n  \"StickyNote\": {\n    isPrimaryTagBackgroundColorRequired: false,\n    isPrimaryTagAnButton: false,\n    primaryBackgroundColor: '#e8ecf3',\n    isChildTagBackgroundColorRequired: true,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: false,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  },\n  \"StickyNoteTag\": {\n    isPrimaryTagBackgroundColorRequired: true,\n    isPrimaryTagAnButton: true,\n    primaryBackgroundColor: '#e8ecf3',\n    isChildTagBackgroundColorRequired: true,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: false,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  },\n  \"StickyNoteFilingTag\": {\n    isPrimaryTagBackgroundColorRequired: true,\n    isPrimaryTagAnButton: true,\n    primaryBackgroundColor: '#e8ecf3',\n    isChildTagBackgroundColorRequired: true,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: false,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  },\n  \"StickyNoteBanner\": {\n    isPrimaryTagBackgroundColorRequired: true,\n    isPrimaryTagAnButton: false,\n    primaryBackgroundColor: '#e8ecf3',\n    isChildTagBackgroundColorRequired: true,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: false,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  },\n  \"StickyNoteMinimal\": {\n    isPrimaryTagBackgroundColorRequired: false,\n    isPrimaryTagAnButton: false,\n    primaryBackgroundColor: 'transparent',\n    isChildTagBackgroundColorRequired: false,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: true,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  },\n  \"StickyNoteMinimalTag\": {\n    isPrimaryTagBackgroundColorRequired: true,\n    isPrimaryTagAnButton: true,\n    primaryBackgroundColor: '#e8ecf3',\n    isChildTagBackgroundColorRequired: false,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: true,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  },\n  \"StickyNoteMinimalFilingTag\": {\n    isPrimaryTagBackgroundColorRequired: true,\n    isPrimaryTagAnButton: true,\n    primaryBackgroundColor: '#e8ecf3',\n    isChildTagBackgroundColorRequired: false,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: true,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  },\n  \"StickyNoteMinimalBanner\": {\n    isPrimaryTagBackgroundColorRequired: true,\n    isPrimaryTagAnButton: false,\n    primaryBackgroundColor: '#e8ecf3',\n    isChildTagBackgroundColorRequired: false,\n    childBackgroundColor: '#e8ecf3',\n    isOutlineTagBackgroundColorRequired: true,\n    outlineBackgroundColor: '#595a58',\n    unreadColor: '#2199fc',\n  }\n};\n\napp.initializers.add('yippy-tag-with-themes', () => {\n  extend(DiscussionListItem.prototype, 'view', function (vnode) {\n    const discussionListItemContent = vnode.children.find(\n      (e) => e && e.tag === 'div' && e.attrs && e.attrs.className.includes('DiscussionListItem-content')\n    );\n    let discussionDesign = app.forum.attribute('yippy-tag-with-themes.designDefault');\n    let discussionDesignOption = designOptions[discussionDesign];\n\n    discussionListItemContent.children[0] = (\n      <div className='DiscussionListItem-author-container'>{[discussionListItemContent.children[0], discussionListItemContent.children[1]]}</div>\n    );\n\n    delete discussionListItemContent.children[1];\n\n    discussionListItemContent.children[3] = <div className='DiscussionListItem-stats'>{discussionListItemContent.children[3]}</div>;\n\n    let childTagFound = null;\n    let parentTagFound = null;\n    if (this.attrs.discussion.tags() && this.attrs.discussion.tags().length > 0) {\n      // Collect all secondary tags that has position set as 'null'\n      let secondaryTags = {\n        tag: \"span\",\n        attrs: {\n          class: 'DiscussionListItem--secondary',\n          style: {\n          },\n        },\n        children: []\n      };\n      for (const tag of this.attrs.discussion.tags()) {\n        if (tag.data.attributes.isChild) {\n          childTagFound = tag;\n        } else if (tag.data.attributes.position == null) {\n          secondaryTags.children.push(\n            <span class=\"TagLabel\" style={'--tag-bg:' + tag.color()}>\n              <span class={classList(\"TagLabel-text\", textContrastClass(tag.color()))}>\n                <i class={'TagLabel-icon ' + tag.data.attributes.icon }></i>\n                <span class=\"TagLabel-name\">{tag.data.attributes.name}</span>\n              </span>\n            </span>\n          );\n        } else {\n          parentTagFound = tag;\n        }\n      };\n\n      if (parentTagFound) {\n        if (childTagFound == null) {\n          childTagFound = parentTagFound;\n        }\n        let footerColor = discussionDesignOption.isPrimaryTagBackgroundColorRequired ? parentTagFound.color(): discussionDesignOption.primaryBackgroundColor;\n        if (discussionDesignOption.isPrimaryTagAnButton) {\n          discussionListItemContent.children.push(\n            <span class={( discussionDesign == 'StickyNoteMinimalFilingTag' || discussionDesign == 'StickyNoteFilingTag' ? 'DiscussionListItem--filingfooter': 'DiscussionListItem-footer')}>\n              <span class=\"PrimaryTagLabel\" style={'background:' + parentTagFound.color()}>\n                <span class={classList(\"PrimaryTagLabel-text\", textContrastClass(parentTagFound.color()))}>\n                  <i class={'PrimaryTagLabel-icon ' + parentTagFound.data.attributes.icon + \" fa-1x\"}></i>\n                  <span class=\"PrimaryTagLabel-name\">{parentTagFound.data.attributes.name}</span>\n                </span>\n              </span>{secondaryTags}\n            </span>\n          );\n        } else {\n          discussionListItemContent.children.push(\n            <span class={classList('DiscussionListItem-footer', textContrastClass(footerColor))} style={'background:' + footerColor }>\n              <span class='DiscussionListItem--primary'>\n                <i aria-hidden=\"true\" class={'TagLabel-icon ' + parentTagFound.data.attributes.icon + \" fa-1x\"}></i>{parentTagFound.data.attributes.name}\n              </span>{secondaryTags}\n            </span>\n          );\n        }\n      }\n    }\n    let backgroundColor = discussionDesignOption.outlineBackgroundColor;\n    if (childTagFound) {\n      backgroundColor = childTagFound.color();\n    }\n    switch(discussionDesign) {\n      case 'StickyNoteFilingTag':\n        if(childTagFound) {\n          discussionListItemContent.children.push(\n            <span class='DiscussionListItem--outline' style={'box-shadow:' +('inset -15px -15px 0px 0px '+backgroundColor)}>\n            </span>\n          );\n        }\n        break;\n      case 'StickyNoteMinimal':\n      case 'StickyNoteMinimalTag':\n      case 'StickyNoteMinimalBanner':\n        discussionListItemContent.children.push(\n          <span class='DiscussionListItem--outline' style={'box-shadow:' +('inset -6px -6px 0px 0px '+backgroundColor+'; height: 100%; bottom: 0;')}>\n          </span>\n        );\n        break;\n      case 'StickyNoteMinimalFilingTag':\n        if(childTagFound) {\n          discussionListItemContent.children.push(\n            <span class='DiscussionListItem--outline' style={'box-shadow:' +('inset -6px -6px 0px 0px '+backgroundColor+';height: calc(100% - 25px); bottom: 18px;')}>\n            </span>\n          );\n          break;\n        } else {\n          discussionListItemContent.children.push(\n            <span class='DiscussionListItem--outline' style={'box-shadow:' +('inset -6px -6px 0px 0px '+backgroundColor+'; height: 100%; bottom: 0;')}>\n            </span>\n          );\n        }\n\n    }\n    if (childTagFound) {\n      vnode.attrs.style = {'background': (discussionDesignOption.isChildTagBackgroundColorRequired? childTagFound.color(): discussionDesignOption.childBackgroundColor), ...(vnode.attrs.style || {}) };\n\n      discussionListItemContent.children.push(<span class=' DiscussionListItem--read' style={'border-color:' + (discussionDesignOption.isOutlineTagBackgroundColorRequired ? childTagFound.color() : discussionDesignOption.outlineBackgroundColor)}></span>);\n    } else {\n      vnode.attrs.style = {'background': discussionDesignOption.childBackgroundColor, ...(vnode.attrs.style || {}) };\n\n      discussionListItemContent.children.push(<span class=' DiscussionListItem--read' style={'border-color:' + discussionDesignOption.outlineBackgroundColor}></span>);\n    }\n    if (this.attrs.discussion.isUnread()) {\n      discussionListItemContent.children.push(<span class=' DiscussionListItem--unread' style={'border-color:' +discussionDesignOption.unreadColor}></span>);\n    }\n    vnode.attrs.className += ' ' + discussionDesign;\n  });\n\n  override(DiscussionListItem.prototype, 'mainView', function () {\n    const discussion = this.attrs.discussion;\n    const jumpTo = this.getJumpTo();\n\n    let discussionDesign = app.forum.attribute('yippy-tag-with-themes.designDefault');\n    let discussionDesignOption = designOptions[discussionDesign];\n\n    let textContrastColor = textContrastClass(discussionDesignOption.childBackgroundColor);\n    // Override text color depending if isChildTagBackgroundColorRequired\n    if (discussionDesignOption.isChildTagBackgroundColorRequired) {\n      if (this.attrs.discussion.tags() && this.attrs.discussion.tags().length > 0) {\n        let childTagFound = null;\n        let parentTagFound = null;\n        for (const tag of this.attrs.discussion.tags()) {\n          if (tag.data.attributes.isChild) {\n            childTagFound = tag;\n          } else if (tag.data.attributes.position >= 0) {\n            parentTagFound = tag;\n          }\n        }\n        if (childTagFound) {\n          textContrastColor = textContrastClass(childTagFound.color());\n        } else if (parentTagFound) {\n          textContrastColor = textContrastClass(parentTagFound.color());\n        }\n      }\n    }\n    return (\n      <Link href={app.route.discussion(discussion, jumpTo)} className='DiscussionListItem-main'>\n        <h2 className={classList(\"DiscussionListItem-title-edit\", textContrastColor)}>{highlight(discussion.title(), this.highlightRegExp)}</h2>\n        <ul className={classList(\"DiscussionListItem-info-edit\", textContrastColor)}>{listItems(this.infoItems().toArray())}</ul>\n      </Link>\n    );\n  });\n\n  extend(DiscussionListItem.prototype, 'infoItems', function (items) {\n    let childTag = null;\n    if (this.attrs.discussion.tags() && this.attrs.discussion.tags().length > 1) {\n      for (const tag of this.attrs.discussion.tags()) {\n        if (tag.data.attributes.isChild) {\n          childTag = tag;\n          break;\n        }\n      }\n    }\n\n    if (!items.has('excerpt')) {\n      const firstPost = this.attrs.discussion.firstPost();\n\n      if (firstPost) {\n        const excerpt = truncate(firstPost.contentPlain(), 175);\n\n        items.add('excerpt', <div>{excerpt}</div>, -100);\n      }\n    }\n\n    // Display tag\n    if (items.has('tags')) {\n      items.remove('tags');\n    }\n\n    if (childTag) {\n      items.add('tag', \n        <span class='TagLabel-inner'><center><i aria-hidden=\"true\" class={'TagLabel-icon ' + childTag.data.attributes.icon + \" fa-1x\"}></i>{childTag.data.attributes.name}</center></span>, -100);\n    } else {\n      items.add('tag', <span class='TagLabel-inner'></span>, -100);\n    }\n  });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","_extends","assign","target","i","arguments","length","source","apply","this","flarum","core","compat","designOptions","isPrimaryTagBackgroundColorRequired","isPrimaryTagAnButton","primaryBackgroundColor","isChildTagBackgroundColorRequired","childBackgroundColor","isOutlineTagBackgroundColorRequired","outlineBackgroundColor","unreadColor","app","initializers","add","extend","DiscussionListItem","vnode","discussionListItemContent","children","find","e","tag","attrs","className","includes","discussionDesign","forum","attribute","discussionDesignOption","childTagFound","parentTagFound","discussion","tags","secondaryTags","class","style","data","attributes","isChild","position","push","color","classList","textContrastClass","icon","name","footerColor","backgroundColor","isUnread","override","jumpTo","getJumpTo","textContrastColor","href","route","highlight","title","highlightRegExp","listItems","infoItems","toArray","items","childTag","has","firstPost","excerpt","truncate","contentPlain","remove"],"sourceRoot":""}