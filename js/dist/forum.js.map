{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@yippy/flarum-tag-with-themes/webpack/bootstrap","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/compat get default export","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/define property getters","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/hasOwnProperty shorthand","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/models/Discussion')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/Model')\"","webpack://@yippy/flarum-tag-with-themes/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@yippy/flarum-tag-with-themes/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@yippy/flarum-tag-with-themes/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@yippy/flarum-tag-with-themes/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'forum/components/DiscussionListItem')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/utils/string')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/helpers/textContrastClass')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/utils/classList')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/components/Link')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/helpers/highlight')\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.reg.get('core', 'common/helpers/listItems')\"","webpack://@yippy/flarum-tag-with-themes/./src/forum/editDiscussionListItem.js","webpack://@yippy/flarum-tag-with-themes/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Discussion');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Model');","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/DiscussionListItem');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/string');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/textContrastClass');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/classList');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Link');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/highlight');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/listItems');","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { extend, override } from 'flarum/common/extend';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport { truncate } from 'flarum/common/utils/string';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport classList from 'flarum/common/utils/classList';\nimport Link from 'flarum/common/components/Link';\nimport highlight from 'flarum/common/helpers/highlight';\nimport listItems from 'flarum/common/helpers/listItems';\nexport default function () {\n  const fontClasses = {\n    'Automatic': null,\n    'White': 'text-contrast--light',\n    'WhiteWithBorder': 'outlinetextblackborder',\n    'Black': 'text-contrast--dark',\n    'BlackWithBorder': 'outlinetextwhiteborder'\n  };\n  const designOptions = {\n    \"StickyNote\": {\n      isPrimaryTagBackgroundColorRequired: false,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"StickyNoteTag\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"StickyNoteTab\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"StickyNoteBanner\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"StickyNoteOutline\": {\n      isPrimaryTagBackgroundColorRequired: false,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: 'transparent',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"StickyNoteOutlineTag\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"StickyNoteOutlineTab\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"StickyNoteOutlineBanner\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'folded',\n      secondaryFontClass: null\n    },\n    \"Basic\": {\n      isPrimaryTagBackgroundColorRequired: false,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"BasicTag\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"BasicTab\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"BasicBanner\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"BasicOutline\": {\n      isPrimaryTagBackgroundColorRequired: false,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: 'transparent',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"BasicOutlineTag\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"BasicOutlineTab\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"BasicOutlineBanner\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'circle',\n      secondaryFontClass: null\n    },\n    \"Flat\": {\n      isPrimaryTagBackgroundColorRequired: false,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    },\n    \"FlatTag\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    },\n    \"FlatTab\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    },\n    \"FlatBanner\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: true,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: false,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    },\n    \"FlatBorder\": {\n      isPrimaryTagBackgroundColorRequired: false,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: 'transparent',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    },\n    \"FlatBorderTag\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    },\n    \"FlatBorderTab\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: true,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    },\n    \"FlatBorderBanner\": {\n      isPrimaryTagBackgroundColorRequired: true,\n      isPrimaryTagAnButton: false,\n      primaryBackgroundColor: '#e8ecf3',\n      primaryFontClass: null,\n      isChildTagBackgroundColorRequired: false,\n      childBackgroundColor: '#e8ecf3',\n      childFontClass: null,\n      isOutlineTagBackgroundColorRequired: true,\n      outlineBackgroundColor: '#595a58',\n      unreadColor: '#2199fc',\n      unreadCSS: 'square',\n      secondaryFontClass: null\n    }\n  };\n  let discussionDesign;\n  let discussionDesignOption;\n  let parentTagFound;\n  let childTagFound;\n  let secondaryTags;\n  function initialiseThemeBuilder(discussionTags, app) {\n    discussionDesign = discussionDesignOption = parentTagFound = childTagFound = null;\n    secondaryTags = {\n      tag: \"span\",\n      attrs: {\n        class: 'DiscussionListItem--secondary',\n        style: {}\n      },\n      children: []\n    };\n    discussionDesign = app.forum.attribute('yippy-tag-with-themes.designDefault');\n    const discussionDesignByTags = app.forum.attribute('yippy-tag-with-themes.designByTags');\n    let mergeOptions = null;\n    if (discussionTags && discussionTags.length > 0) {\n      for (const tag of discussionTags) {\n        if (tag.data.attributes.isChild) {\n          childTagFound = tag;\n        } else if (tag.data.attributes.position == null) {} else {\n          parentTagFound = tag;\n        }\n      }\n      ;\n    }\n    if (parentTagFound) {\n      for (const customisedDesign of discussionDesignByTags) {\n        if (customisedDesign.isEnabled && customisedDesign.tags.includes(parentTagFound.id())) {\n          discussionDesign = customisedDesign.themeName;\n          mergeOptions = {\n            primaryBackgroundColor: customisedDesign.primaryBackgroundColor,\n            primaryFontClass: fontClasses[customisedDesign.primaryFontClass],\n            childBackgroundColor: customisedDesign.childBackgroundColor,\n            childFontClass: fontClasses[customisedDesign.childFontClass],\n            outlineBackgroundColor: customisedDesign.outlineBackgroundColor,\n            unreadColor: customisedDesign.unreadColor,\n            secondaryFontClass: fontClasses[customisedDesign.secondaryFontClass]\n          };\n          break;\n        }\n      }\n    }\n    if (discussionDesign && discussionDesign != \"None\") {\n      discussionDesignOption = designOptions[discussionDesign];\n      if (mergeOptions) {\n        discussionDesignOption = Object.assign({}, discussionDesignOption, mergeOptions);\n      }\n      if (discussionTags && discussionTags.length > 0) {\n        for (const tag of discussionTags) {\n          if (tag.data.attributes.position == null) {\n            secondaryTags.children.push(m(\"span\", {\n              class: \"TagLabel\",\n              style: '--tag-bg:' + tag.color()\n            }, m(\"span\", {\n              class: classList(\"TagLabel-text\", discussionDesignOption.secondaryFontClass ? discussionDesignOption.secondaryFontClass : textContrastClass(tag.color()))\n            }, m(\"i\", {\n              class: 'TagLabel-icon ' + tag.data.attributes.icon\n            }), m(\"span\", {\n              class: \"TagLabel-name\"\n            }, tag.data.attributes.name))));\n          }\n        }\n        ;\n      }\n    }\n  }\n  extend(DiscussionListItem.prototype, 'view', function (vnode) {\n    const discussion = this.attrs.discussion;\n    if (discussionDesignOption) {\n      const discussionListItemContent = vnode.children.find(e => e && e.tag === 'div' && e.attrs && e.attrs.className.includes('DiscussionListItem-content'));\n      discussionListItemContent.children[0] = m(\"div\", {\n        className: \"DiscussionListItem-author-container\"\n      }, [discussionListItemContent.children[0], discussionListItemContent.children[1]]);\n      delete discussionListItemContent.children[1];\n      discussionListItemContent.children[3] = m(\"div\", {\n        className: \"DiscussionListItem-stats\"\n      }, discussionListItemContent.children[3]);\n      if (parentTagFound) {\n        if (childTagFound == null) {\n          childTagFound = parentTagFound;\n        }\n        let footerColor = discussionDesignOption.isPrimaryTagBackgroundColorRequired ? parentTagFound.color() : discussionDesignOption.primaryBackgroundColor;\n        if (discussionDesignOption.isPrimaryTagAnButton) {\n          let footerClassName = 'DiscussionListItem-footer';\n          switch (discussionDesign) {\n            case 'StickyNoteTab':\n            case 'StickyNoteOutlineTab':\n            case 'BasicTab':\n            case 'BasicOutlineTab':\n            case 'FlatTab':\n            case 'FlatBorderTab':\n              footerClassName = 'DiscussionListItem--tabfooter';\n              break;\n          }\n          discussionListItemContent.children.push(m(\"span\", {\n            class: footerClassName\n          }, m(\"span\", {\n            class: \"PrimaryTagLabel\",\n            style: 'background:' + footerColor\n          }, m(\"span\", {\n            class: classList(\"PrimaryTagLabel-text\", discussionDesignOption.primaryFontClass ? discussionDesignOption.primaryFontClass : textContrastClass(footerColor))\n          }, m(\"i\", {\n            class: 'PrimaryTagLabel-icon ' + parentTagFound.data.attributes.icon + \" fa-1x\"\n          }), m(\"span\", {\n            class: \"PrimaryTagLabel-name\"\n          }, parentTagFound.data.attributes.name))), secondaryTags));\n        } else {\n          discussionListItemContent.children.push(m(\"span\", {\n            class: classList('DiscussionListItem-footer', discussionDesignOption.primaryFontClass ? discussionDesignOption.primaryFontClass : textContrastClass(footerColor)),\n            style: 'background:' + footerColor\n          }, m(\"span\", {\n            class: \"DiscussionListItem--primary\"\n          }, m(\"i\", {\n            \"aria-hidden\": \"true\",\n            class: 'TagLabel-icon ' + parentTagFound.data.attributes.icon + \" fa-1x\"\n          }), parentTagFound.data.attributes.name), secondaryTags));\n        }\n      }\n      let backgroundColor = discussionDesignOption.outlineBackgroundColor;\n      if (childTagFound) {\n        backgroundColor = childTagFound.color();\n      }\n      switch (discussionDesign) {\n        case 'StickyNoteTab':\n        case 'BasicTab':\n          if (childTagFound) {\n            discussionListItemContent.children.push(m(\"span\", {\n              class: \"DiscussionListItem--outline\",\n              style: 'box-shadow:' + ('inset -15px -15px 0px 0px ' + backgroundColor)\n            }));\n          }\n          break;\n        case 'StickyNoteOutline':\n        case 'StickyNoteOutlineTag':\n        case 'StickyNoteOutlineBanner':\n        case 'BasicOutline':\n        case 'BasicOutlineTag':\n        case 'BasicOutlineBanner':\n          discussionListItemContent.children.push(m(\"span\", {\n            class: \"DiscussionListItem--outline\",\n            style: 'box-shadow:' + ('inset -6px -6px 0px 0px ' + backgroundColor + '; height: 100%; bottom: 0;')\n          }));\n          break;\n        case 'FlatBorder':\n        case 'FlatBorderTag':\n        case 'FlatBorderBanner':\n          discussionListItemContent.children.push(m(\"span\", {\n            class: \"DiscussionListItem--outline\",\n            style: 'box-shadow:' + ('inset 0 0 0 4px ' + backgroundColor + '; height: 100%; bottom: 0;')\n          }));\n          break;\n        case 'StickyNoteOutlineTab':\n        case 'BasicOutlineTab':\n          if (childTagFound) {\n            discussionListItemContent.children.push(m(\"span\", {\n              class: \"DiscussionListItem--outline\",\n              style: 'box-shadow:' + ('inset -6px -6px 0px 0px ' + backgroundColor + ';height: calc(100% - 18px); bottom: 18px;')\n            }));\n          } else {\n            discussionListItemContent.children.push(m(\"span\", {\n              class: \"DiscussionListItem--outline\",\n              style: 'box-shadow:' + ('inset -6px -6px 0px 0px ' + backgroundColor + '; height: 100%; bottom: 0;')\n            }));\n          }\n          break;\n        case 'FlatBorderTab':\n          if (childTagFound) {\n            discussionListItemContent.children.push(m(\"span\", {\n              class: \"DiscussionListItem--outline\",\n              style: 'box-shadow:' + ('inset 0 0 0 4px ' + backgroundColor + ';height: calc(100% - 18px); bottom: 22px;')\n            }));\n          } else {\n            discussionListItemContent.children.push(m(\"span\", {\n              class: \"DiscussionListItem--outline\",\n              style: 'box-shadow:' + ('inset 0 0 0 4px ' + backgroundColor + '; height: 100%; bottom: 0;')\n            }));\n          }\n          break;\n      }\n      const foldedClassname = discussionDesignOption.unreadCSS;\n      if (childTagFound) {\n        vnode.attrs.style = _objectSpread({\n          'background': discussionDesignOption.isChildTagBackgroundColorRequired ? childTagFound.color() : discussionDesignOption.childBackgroundColor\n        }, vnode.attrs.style || {});\n      } else {\n        vnode.attrs.style = _objectSpread({\n          'background': discussionDesignOption.childBackgroundColor\n        }, vnode.attrs.style || {});\n      }\n      if (discussion.isUnread()) {\n        discussionListItemContent.children.push(m(\"span\", {\n          class: 'DiscussionListItem--unreadoutline' + foldedClassname,\n          style: 'background:' + discussionDesignOption.unreadColor + '; color:' + discussionDesignOption.unreadColor\n        }));\n      }\n      if (foldedClassname == 'folded') {\n        if (childTagFound) {\n          vnode.attrs.style = _objectSpread({\n            'background': discussionDesignOption.isChildTagBackgroundColorRequired ? childTagFound.color() : discussionDesignOption.childBackgroundColor\n          }, vnode.attrs.style || {});\n          discussionListItemContent.children.push(m(\"span\", {\n            class: 'DiscussionListItem--read' + foldedClassname,\n            style: 'border-color:' + (discussionDesignOption.isOutlineTagBackgroundColorRequired ? childTagFound.color() : discussionDesignOption.outlineBackgroundColor)\n          }));\n        } else {\n          discussionListItemContent.children.push(m(\"span\", {\n            class: 'DiscussionListItem--read' + foldedClassname,\n            style: 'border-color:' + discussionDesignOption.outlineBackgroundColor\n          }));\n        }\n      }\n      vnode.attrs.className += ' TagWithThemes ' + discussionDesign;\n    }\n  });\n  override(DiscussionListItem.prototype, 'mainView', function () {\n    const discussion = this.attrs.discussion;\n    const jumpTo = this.getJumpTo();\n    if (discussion.isTagWithThemesEnabled()) {\n      initialiseThemeBuilder(discussion.tags(), app);\n      if (discussionDesignOption) {\n        let textContrastColor = textContrastClass(discussionDesignOption.childBackgroundColor);\n        // Override text color depending if isChildTagBackgroundColorRequired\n        if (discussionDesignOption.isChildTagBackgroundColorRequired) {\n          if (childTagFound) {\n            textContrastColor = discussionDesignOption.childFontClass ? discussionDesignOption.childFontClass : textContrastClass(childTagFound.color());\n          } else if (parentTagFound) {\n            textContrastColor = discussionDesignOption.childFontClass ? discussionDesignOption.childFontClass : textContrastClass(parentTagFound.color());\n          }\n        }\n        return m(Link, {\n          href: app.route.discussion(discussion, jumpTo),\n          className: \"DiscussionListItem-main\"\n        }, m(\"h2\", {\n          className: classList(\"DiscussionListItem-title-edit\", textContrastColor)\n        }, highlight(discussion.title(), this.highlightRegExp)), m(\"ul\", {\n          className: classList(\"DiscussionListItem-info-edit\", textContrastColor)\n        }, listItems(this.infoItems().toArray())));\n      }\n    }\n    return m(Link, {\n      href: app.route.discussion(discussion, jumpTo),\n      className: \"DiscussionListItem-main\"\n    }, m(\"h2\", {\n      className: \"DiscussionListItem-title\"\n    }, highlight(discussion.title(), this.highlightRegExp)), m(\"ul\", {\n      className: \"DiscussionListItem-info\"\n    }, listItems(this.infoItems().toArray())));\n  });\n  extend(DiscussionListItem.prototype, 'infoItems', function (items) {\n    const discussion = this.attrs.discussion;\n    if (discussion.isTagWithThemesEnabled() && !discussionDesignOption) {\n      // Double check, because mainView isn't invoke first on random Discussion (most likely a bug), this cause discussionDesignOption to be null. This new bug is detectable because of the new permission group, allow discussion to skip TagWithThemes therefore we need to check discussionDesignOption is null.\n      initialiseThemeBuilder(discussion.tags(), app);\n    }\n    if (discussionDesignOption) {\n      let childTag = null;\n      if (discussion.tags() && discussion.tags().length > 1) {\n        for (const tag of discussion.tags()) {\n          if (tag.data.attributes.isChild) {\n            childTag = tag;\n            break;\n          }\n        }\n      }\n      if (!items.has('excerpt')) {\n        const firstPost = discussion.firstPost();\n        if (firstPost) {\n          const excerpt = truncate(firstPost.contentPlain(), 175);\n          items.add('excerpt', m(\"div\", null, excerpt), -100);\n        }\n      }\n\n      // Display tag\n      if (items.has('tags')) {\n        items.remove('tags');\n      }\n      if (childTag) {\n        items.add('tag', m(\"span\", {\n          class: \"TagLabel-inner\"\n        }, m(\"center\", null, m(\"i\", {\n          \"aria-hidden\": \"true\",\n          class: 'TagLabel-icon ' + childTag.data.attributes.icon + \" fa-1x\"\n        }), childTag.data.attributes.name)), -100);\n      } else {\n        items.add('tag', m(\"span\", {\n          class: \"TagLabel-inner\"\n        }), -100);\n      }\n    }\n  });\n}","import Discussion from 'flarum/common/models/Discussion';\nimport Model from 'flarum/common/Model';\nimport editDiscussionListItem from './editDiscussionListItem';\napp.initializers.add('yippy-tag-with-themes', () => {\n  Discussion.prototype.isTagWithThemesEnabled = Model.attribute('isTagWithThemesEnabled');\n  editDiscussionListItem();\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","reg","_typeof","Symbol","iterator","constructor","_defineProperty","e","r","t","i","toPrimitive","TypeError","String","toPropertyKey","value","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","app","initializers","add","isTagWithThemesEnabled","fontClasses","designOptions","isPrimaryTagBackgroundColorRequired","isPrimaryTagAnButton","primaryBackgroundColor","primaryFontClass","isChildTagBackgroundColorRequired","childBackgroundColor","childFontClass","isOutlineTagBackgroundColorRequired","outlineBackgroundColor","unreadColor","unreadCSS","secondaryFontClass","discussionDesign","discussionDesignOption","parentTagFound","childTagFound","secondaryTags","initialiseThemeBuilder","discussionTags","tag","attrs","class","style","children","forum","attribute","discussionDesignByTags","mergeOptions","data","attributes","isChild","position","customisedDesign","isEnabled","tags","includes","id","themeName","assign","m","color","icon","name","extend","vnode","discussion","this","discussionListItemContent","find","className","footerColor","footerClassName","backgroundColor","foldedClassname","isUnread","override","jumpTo","getJumpTo","textContrastColor","href","route","title","highlightRegExp","infoItems","toArray","items","childTag","has","firstPost","excerpt","truncate","contentPlain","remove","editDiscussionListItem"],"sourceRoot":""}