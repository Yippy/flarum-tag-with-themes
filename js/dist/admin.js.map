{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@yippy/flarum-tag-with-themes/webpack/bootstrap","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/compat get default export","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/define property getters","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/hasOwnProperty shorthand","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['app']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/components/Button']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/helpers/textContrastClass']\"","webpack://@yippy/flarum-tag-with-themes/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/textContrastClass'];","import app from 'flarum/app';\r\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\r\nimport Button from 'flarum/common/components/Button';\r\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\r\n\r\ninterface TagDesign {\r\n    themeName: string,\r\n    tags: number[],\r\n    primaryBackgroundColor: string,\r\n    primaryFontClass: string,\r\n    childBackgroundColor: string,\r\n    childFontClass: string,\r\n    outlineBackgroundColor: string,\r\n    secondaryFontClass: string,\r\n    unreadColor: string,\r\n    isEnabled: boolean\r\n}\r\nconst settingsPrefix = 'yippy-tag-with-themes';\r\nconst translationPrefix = 'yippy-tag-with-themes.admin.';\r\nconst tagDesignSettingKey = settingsPrefix+'.design-by-tags';\r\n\r\napp.initializers.add(settingsPrefix, (app) => {\r\n    const fontClassChoiceAvailable = [\r\n        {\r\n            id: 'Automatic',\r\n            text: 'Automatic',\r\n            class: null,\r\n            color: '#e4e9f1',\r\n        },\r\n        {\r\n            id: 'White',\r\n            text: 'White Color',\r\n            class: 'text-contrast--light',\r\n            color: '#3d4c4c',\r\n        },\r\n        {\r\n            id: 'WhiteWithBorder',\r\n            text: 'White Color with Black Border',\r\n            class: 'outlinetextblackborder',\r\n            color: '#3d4c4c',\r\n        },\r\n        {\r\n            id: 'Black',\r\n            text: 'Black Color',\r\n            class: 'text-contrast--dark',\r\n            color: '#99bfbe',\r\n        },\r\n        {\r\n            id: 'BlackWithBorder',\r\n            text: 'Black Color with White Border',\r\n            class: 'outlinetextwhiteborder',\r\n            color: '#99bfbe',\r\n        },\r\n    ];\r\n    const designThemeAvailable = [\r\n        {\r\n            id: \"None\",\r\n            text: app.translator.trans(translationPrefix+'options.design_options.none'),\r\n        },{\r\n            id: 'StickyNote',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note'),\r\n        },{\r\n            id: 'StickyNoteTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_tag'),\r\n        },{\r\n            id: 'StickyNoteTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_tab'),\r\n        },{\r\n            id: 'StickyNoteBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_banner'),\r\n        },{\r\n            id: 'StickyNoteOutline',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline'),\r\n        },{\r\n            id: 'StickyNoteOutlineTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline_tag'),\r\n        },{\r\n            id: 'StickyNoteOutlineTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline_tab'),\r\n        },{\r\n            id: 'StickyNoteOutlineBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline_banner'),\r\n        },{\r\n            id: 'Basic',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic'),\r\n        },{\r\n            id: 'BasicTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_tag'),\r\n        },{\r\n            id: 'BasicTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_tab'),\r\n        },{\r\n            id: 'BasicBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_banner'),\r\n        },{\r\n            id: 'BasicOutline',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline'),\r\n        },{\r\n            id: 'BasicOutlineTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline_tag'),\r\n        },{\r\n            id: 'BasicOutlineTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline_tab'),\r\n        },{\r\n            id: 'BasicOutlineBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline_banner'),\r\n        },{\r\n            id: 'Flat',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat'),\r\n        },{\r\n            id: 'FlatTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_tag'),\r\n        },{\r\n            id: 'FlatTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_tab'),\r\n        },{\r\n            id: 'FlatBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_banner'),\r\n        },{\r\n            id: 'FlatBorder',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border'),\r\n        },{\r\n            id: 'FlatBorderTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border_tag'),\r\n        },{\r\n            id: 'FlatBorderTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border_tab'),\r\n        },{\r\n            id: 'FlatBorderBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border_banner'),\r\n        }\r\n    ];\r\n    function formatState (state) {\r\n        if (!state.id) { return state.text; }\r\n        var $state = $(\r\n         '<span class=\"'+ (state.class ? state.class : textContrastClass(state.color))+'\" style=\"background: '+state.color+'; padding-top: 2px; padding-right: 5px; padding-bottom: 2px; padding-left: 5px;\"><i class=\"'+ state.icon +'\"></i><span> '+ state.text +'</span></span>'\r\n        );\r\n        return $state;\r\n    }\r\n    app.extensionData\r\n    .for(settingsPrefix)\r\n      .registerPermission(\r\n        {\r\n          permission: settingsPrefix+'.display-themes',\r\n          icon: 'fas fa-unlock',\r\n          label: app.translator.trans(translationPrefix+'labels.display_themes'),\r\n          help: app.translator.trans(translationPrefix+'helps.display_themes'),\r\n          allowGuest: true,\r\n        },\r\n        'view'\r\n      )\r\n      .registerSetting({\r\n          setting: settingsPrefix+'.design-default',\r\n          type: 'select',\r\n          options:  designThemeAvailable.reduce((designs, design) => { designs[design.id] = design.text; return designs;}, {}),\r\n          default: 'StickyNote',\r\n          label: app.translator.trans(translationPrefix+'labels.design_default'),\r\n          help: app.translator.trans(translationPrefix+'helps.design_default'),\r\n      })\r\n      .registerSetting(\r\n        function (this: TagDesign) {\r\n          let tagDesigns: TagDesign[];\r\n          try {\r\n            tagDesigns = JSON.parse(this.setting(tagDesignSettingKey)());\r\n          } catch (e) {\r\n            // do nothing, we'll reset to something usable\r\n          }\r\n  \r\n          // @ts-ignore variable used before assignment, it's fine\r\n          if (!Array.isArray(tagDesigns)) {\r\n            tagDesigns = [];\r\n          }\r\n          let tags = app.store.all('tags');\r\n          let tagsAvailable = [];\r\n          tags.forEach((item, index) => {\r\n            let tag = item.data;\r\n            if(tag.attributes.position != null) {\r\n                tagsAvailable.push({id: tag.id, text: tag.attributes.name, color: tag.attributes.color, icon: tag.attributes.icon});\r\n            }\r\n          });\r\n          return m('.Form-group', [\r\n            m('label', app.translator.trans(translationPrefix + 'designs.title')),\r\n            m('.helpText', app.translator.trans(translationPrefix + 'designs.description')),\r\n            m('table', {style:'table-layout:fixed'}, [\r\n              m('tbody', [\r\n                tagDesigns.map((rule, index) => m('table', {\r\n                  border: '1px solid black',\r\n                  'style': rule.isEnabled ?'background-color: #ffffff':'background-color: #F88379',\r\n                }, [\r\n                  m('thead', m('tr', [\r\n                    m('th', app.translator.trans(translationPrefix + 'designs.banner', {index: index+1, isEnabled: rule.isEnabled ? app.translator.trans(translationPrefix + 'designs.is_enabled.enabled'): app.translator.trans(translationPrefix + 'designs.is_enabled.disabled')})),\r\n                    m('th', Button.component({\r\n                      className: 'Button Button--icon',\r\n                      icon: 'fas fa-times',\r\n                      onclick: () => {\r\n                        tagDesigns.splice(index, 1);\r\n                          this.setting(tagDesignSettingKey)(tagDesigns.length > 0 ? JSON.stringify(tagDesigns) : null);\r\n                      },\r\n                    })\r\n                    )\r\n                  ])),\r\n                  m('tbody', [\r\n                    m('table', [\r\n                      m('thead', m('tr', [\r\n                        m('th', { width: '40%' }),\r\n                        m('th', { width: '60%' }),\r\n                      ])),\r\n                      m('tbody', [\r\n                        m('tr', [\r\n                          m('th', { colspan: 2 }, app.translator.trans(translationPrefix + 'designs.header.theme')),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.themeName')),\r\n                          m('td',\r\n                            m('select', {\r\n                              oncreate: ({dom}) => $(dom).select2({ width: '100%', multiple: false, data: designThemeAvailable}).on(\"change\", function() {\r\n                                this.dispatchEvent(new CustomEvent('edit', {\"detail\": $(this).val()}));\r\n                              }).on('select2:select', function(e){\r\n                                var id = e.params.data.id;\r\n                                var option = $(e.target).children('[value='+id+']');\r\n                                option.detach();\r\n                                $(e.target).append(option).change();\r\n                              }).val(rule.themeName || []).trigger(\"change\"),\r\n                              onedit: (event: InputEvent) => {\r\n                                rule.themeName = event.detail;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                              }\r\n                            })\r\n                          )\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.tags')),\r\n                          m('td',\r\n                            m('select', {\r\n                              oncreate: ({dom}) => $(dom).select2({ width: '100%', multiple: true, data: tagsAvailable, templateResult: formatState, templateSelection: formatState}).on(\"change\", function() {\r\n                                this.dispatchEvent(new CustomEvent('edit', {\"detail\": $(this).val()}));\r\n                              }).on('select2:select', function(e){\r\n                                var id = e.params.data.id;\r\n                                var option = $(e.target).children('[value='+id+']');\r\n                                option.detach();\r\n                                $(e.target).append(option).change();\r\n                              }).val(rule.tags || []).trigger(\"change\"),\r\n                              onedit: (event: InputEvent) => {\r\n                                rule.tags = event.detail;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                              }\r\n                            })\r\n                          )\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', { colspan: 2, class: 'helpText'}, app.translator.trans(translationPrefix + 'designs.data.tags_help')),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('th', { colspan: 2 }, app.translator.trans(translationPrefix + 'designs.header.color_theme')),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.primary_background_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.primaryBackgroundColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.primaryBackgroundColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.primary_font_class')),\r\n                          m('td',\r\n                            m('select', {\r\n                              oncreate: ({dom}) => $(dom).select2({ width: '100%', multiple: false, data: fontClassChoiceAvailable, templateResult: formatState, templateSelection: formatState}).on(\"change\", function() {\r\n                                this.dispatchEvent(new CustomEvent('edit', {\"detail\": $(this).val()}));\r\n                              }).on('select2:select', function(e){\r\n                                var id = e.params.data.id;\r\n                                var option = $(e.target).children('[value='+id+']');\r\n                                option.detach();\r\n                                $(e.target).append(option).change();\r\n                              }).val(rule.primaryFontClass).trigger(\"change\"),\r\n                              onedit: (event: InputEvent) => {\r\n                                rule.primaryFontClass = event.detail;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                              }\r\n                            })\r\n                          )\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.child_background_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.childBackgroundColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.childBackgroundColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.child_font_class')),\r\n                          m('td',\r\n                            m('select', {\r\n                              oncreate: ({dom}) => $(dom).select2({ width: '100%', multiple: false, data: fontClassChoiceAvailable, templateResult: formatState, templateSelection: formatState}).on(\"change\", function() {\r\n                                this.dispatchEvent(new CustomEvent('edit', {\"detail\": $(this).val()}));\r\n                              }).on('select2:select', function(e){\r\n                                var id = e.params.data.id;\r\n                                var option = $(e.target).children('[value='+id+']');\r\n                                option.detach();\r\n                                $(e.target).append(option).change();\r\n                              }).val(rule.childFontClass).trigger(\"change\"),\r\n                              onedit: (event: InputEvent) => {\r\n                                rule.childFontClass = event.detail;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                              }\r\n                            })\r\n                          )\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.outline_background_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.outlineBackgroundColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.outlineBackgroundColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.unread_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.unreadColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.unreadColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.secondary_font_class')),\r\n                          m('td',\r\n                            m('select', {\r\n                              oncreate: ({dom}) => $(dom).select2({ width: '100%', multiple: false, data: fontClassChoiceAvailable, templateResult: formatState, templateSelection: formatState}).on(\"change\", function() {\r\n                                this.dispatchEvent(new CustomEvent('edit', {\"detail\": $(this).val()}));\r\n                              }).on('select2:select', function(e){\r\n                                var id = e.params.data.id;\r\n                                var option = $(e.target).children('[value='+id+']');\r\n                                option.detach();\r\n                                $(e.target).append(option).change();\r\n                              }).val(rule.secondaryFontClass).trigger(\"change\"),\r\n                              onedit: (event: InputEvent) => {\r\n                                rule.secondaryFontClass = event.detail;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                              }\r\n                            })\r\n                          )\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.is_enabled')),\r\n                          m('td', m('input', {\r\n                            type: 'checkbox',\r\n                            checked: rule.isEnabled,\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.isEnabled = (event.target as HTMLInputElement).checked;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                      ])\r\n                    ])\r\n                  ])\r\n                ])),\r\n                m('tr', m('td', Button.component({\r\n                  className: 'Button Button--block',\r\n                  onclick: () => {\r\n                    tagDesigns.push({\r\n                      themeName: '',\r\n                      tags: [],\r\n                      primaryBackgroundColor: '#e8ecf3',\r\n                      primaryFontClass: 'Automatic',\r\n                      childBackgroundColor: '#e8ecf3',\r\n                      childFontClass: 'Automatic',\r\n                      outlineBackgroundColor: '#595a58',\r\n                      unreadColor: '#2199fc',\r\n                      secondaryFontClass: 'Automatic',\r\n                      isEnabled: true\r\n                    });\r\n  \r\n                    this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                  },\r\n                }, app.translator.trans(translationPrefix + 'designs.add'))))\r\n              ]),\r\n            ]),\r\n          ]);\r\n        }\r\n    )\r\n  },\r\n  -999999\r\n);\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","settingsPrefix","translationPrefix","tagDesignSettingKey","app","add","fontClassChoiceAvailable","id","text","class","color","designThemeAvailable","translator","trans","formatState","state","$","textContrastClass","icon","extensionData","registerPermission","permission","label","help","allowGuest","registerSetting","setting","type","options","reduce","designs","design","default","tagDesigns","_this","JSON","parse","this","e","Array","isArray","tags","store","all","tagsAvailable","forEach","item","index","tag","data","attributes","position","push","name","m","style","map","rule","border","isEnabled","Button","className","onclick","splice","length","stringify","width","colspan","oncreate","_ref","dom","select2","multiple","on","dispatchEvent","CustomEvent","val","params","option","target","children","detach","append","change","themeName","trigger","onedit","event","detail","_ref2","templateResult","templateSelection","value","primaryBackgroundColor","placeholder","onchange","_ref3","primaryFontClass","childBackgroundColor","_ref4","childFontClass","outlineBackgroundColor","unreadColor","_ref5","secondaryFontClass","checked"],"sourceRoot":""}