{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@yippy/flarum-tag-with-themes/webpack/bootstrap","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/compat get default export","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/define property getters","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/hasOwnProperty shorthand","webpack://@yippy/flarum-tag-with-themes/webpack/runtime/make namespace object","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['app']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/components/Button']\"","webpack://@yippy/flarum-tag-with-themes/external root \"flarum.core.compat['common/helpers/textContrastClass']\"","webpack://@yippy/flarum-tag-with-themes/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/textContrastClass'];","import app from 'flarum/app';\r\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\r\nimport Button from 'flarum/common/components/Button';\r\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\r\n\r\ninterface TagDesign {\r\n    themeName: string,\r\n    tags: number[],\r\n    primaryBackgroundColor: string,\r\n    childBackgroundColor: string,\r\n    outlineBackgroundColor: string,\r\n    unreadColor: string,\r\n    isEnabled: boolean\r\n}\r\nconst settingsPrefix = 'yippy-tag-with-themes';\r\nconst translationPrefix = 'yippy-tag-with-themes.admin.';\r\nconst tagDesignSettingKey = settingsPrefix+'.design-by-tags';\r\n\r\napp.initializers.add(settingsPrefix, (app) => {\r\n    const designThemeAvailable = [\r\n        {\r\n            id: 'StickyNote',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note'),\r\n        },{\r\n            id: 'StickyNoteTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_tag'),\r\n        },{\r\n            id: 'StickyNoteTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_tab'),\r\n        },{\r\n            id: 'StickyNoteBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_banner'),\r\n        },{\r\n            id: 'StickyNoteOutline',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline'),\r\n        },{\r\n            id: 'StickyNoteOutlineTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline_tag'),\r\n        },{\r\n            id: 'StickyNoteOutlineTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline_tab'),\r\n        },{\r\n            id: 'StickyNoteOutlineBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.sticky_note_outline_banner'),\r\n        },{\r\n            id: 'Basic',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic'),\r\n        },{\r\n            id: 'BasicTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_tag'),\r\n        },{\r\n            id: 'BasicTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_tab'),\r\n        },{\r\n            id: 'BasicBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_banner'),\r\n        },{\r\n            id: 'BasicOutline',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline'),\r\n        },{\r\n            id: 'BasicOutlineTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline_tag'),\r\n        },{\r\n            id: 'BasicOutlineTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline_tab'),\r\n        },{\r\n            id: 'BasicOutlineBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.basic_outline_banner'),\r\n        },{\r\n            id: 'Flat',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat'),\r\n        },{\r\n            id: 'FlatTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_tag'),\r\n        },{\r\n            id: 'FlatTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_tab'),\r\n        },{\r\n            id: 'FlatBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_banner'),\r\n        },{\r\n            id: 'FlatBorder',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border'),\r\n        },{\r\n            id: 'FlatBorderTag',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border_tag'),\r\n        },{\r\n            id: 'FlatBorderTab',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border_tab'),\r\n        },{\r\n            id: 'FlatBorderBanner',\r\n            text: app.translator.trans(translationPrefix+'options.design_options.flat_border_banner'),\r\n        }\r\n    ];\r\n    function formatState (state) {\r\n        if (!state.id) { return state.text; }\r\n        var $state = $(\r\n         '<span class=\"'+ textContrastClass(state.color)+'\" style=\"background: '+state.color+'; padding-top: 2px; padding-right: 5px; padding-bottom: 2px; padding-left: 5px;\"><i class=\"'+ state.icon +'\"></i><span> '+ state.text +'</span></span>'\r\n        );\r\n        return $state;\r\n    }\r\n    app.extensionData\r\n    .for(settingsPrefix)\r\n      .registerSetting({\r\n          setting: settingsPrefix+'.design-default',\r\n          type: 'select',\r\n          options:  designThemeAvailable.reduce((designs, design) => { designs[design.id] = design.text; return designs;}, {}),\r\n          default: 'StickyNote',\r\n          label: app.translator.trans(translationPrefix+'labels.design_default'),\r\n          help: app.translator.trans(translationPrefix+'helps.design_default'),\r\n      })\r\n      .registerSetting(\r\n        function (this: TagDesign) {\r\n          let tagDesigns: TagDesign[];\r\n          try {\r\n            tagDesigns = JSON.parse(this.setting(tagDesignSettingKey)());\r\n          } catch (e) {\r\n            // do nothing, we'll reset to something usable\r\n          }\r\n  \r\n          // @ts-ignore variable used before assignment, it's fine\r\n          if (!Array.isArray(tagDesigns)) {\r\n            tagDesigns = [];\r\n          }\r\n          let tags = app.store.all('tags');\r\n          let tagsAvailable = [];\r\n          tags.forEach((item, index) => {\r\n            let tag = item.data;\r\n            if(tag.attributes.position != null) {\r\n                tagsAvailable.push({id: tag.id, text: tag.attributes.name, color: tag.attributes.color, icon: tag.attributes.icon});\r\n            }\r\n          });\r\n          return m('.Form-group', [\r\n            m('label', app.translator.trans(translationPrefix + 'designs.title')),\r\n            m('.helpText', app.translator.trans(translationPrefix + 'designs.description')),\r\n            m('table', {style:'table-layout:fixed'}, [\r\n              m('tbody', [\r\n                tagDesigns.map((rule, index) => m('table', {\r\n                  border: '1px solid black',\r\n                }, [\r\n                  m('thead', m('tr', [\r\n                    m('th', app.translator.trans(translationPrefix + 'designs.banner', {index: index+1})),\r\n                    m('th', Button.component({\r\n                      className: 'Button Button--icon',\r\n                      icon: 'fas fa-times',\r\n                      onclick: () => {\r\n                        tagDesigns.splice(index, 1);\r\n                          this.setting(tagDesignSettingKey)(tagDesigns.length > 0 ? JSON.stringify(tagDesigns) : null);\r\n                      },\r\n                    })\r\n                    )\r\n                  ])),\r\n                  m('tbody', [\r\n                    m('table', [\r\n                      m('thead', m('tr', [\r\n                        m('th', { width: '40%' }),\r\n                        m('th', { width: '60%' }),\r\n                      ])),\r\n                      m('tbody', [\r\n                        m('tr', [\r\n                          m('th', { colspan: 2 }, app.translator.trans(translationPrefix + 'designs.header.theme')),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.themeName')),\r\n                          m('td',\r\n                            m('select', {\r\n                              oncreate: ({dom}) => $(dom).select2({ width: '100%', multiple: false, data: designThemeAvailable}).on(\"change\", function() {\r\n                                this.dispatchEvent(new CustomEvent('edit', {\"detail\": $(this).val()}));\r\n                              }).on('select2:select', function(e){\r\n                                var id = e.params.data.id;\r\n                                var option = $(e.target).children('[value='+id+']');\r\n                                option.detach();\r\n                                $(e.target).append(option).change();\r\n                              }).val(rule.themeName || []).trigger(\"change\"),\r\n                              onedit: (event: InputEvent) => {\r\n                                rule.themeName = event.detail;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                              }\r\n                            })\r\n                          )\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.tags')),\r\n                          m('td',\r\n                            m('select', {\r\n                              oncreate: ({dom}) => $(dom).select2({ width: '100%', multiple: true, data: tagsAvailable, templateResult: formatState, templateSelection: formatState}).on(\"change\", function() {\r\n                                this.dispatchEvent(new CustomEvent('edit', {\"detail\": $(this).val()}));\r\n                              }).on('select2:select', function(e){\r\n                                var id = e.params.data.id;\r\n                                var option = $(e.target).children('[value='+id+']');\r\n                                option.detach();\r\n                                $(e.target).append(option).change();\r\n                              }).val(rule.tags || []).trigger(\"change\"),\r\n                              onedit: (event: InputEvent) => {\r\n                                rule.tags = event.detail;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                              }\r\n                            })\r\n                          )\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', { colspan: 2, class: 'helpText'}, app.translator.trans(translationPrefix + 'designs.data.tags_help')),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('th', { colspan: 2 }, app.translator.trans(translationPrefix + 'designs.header.color_theme')),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.primary_background_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.primaryBackgroundColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.primaryBackgroundColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.child_background_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.childBackgroundColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.childBackgroundColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.outline_background_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.outlineBackgroundColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.outlineBackgroundColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.unread_color')),\r\n                          m('td', m('input.FormControl', {\r\n                            type: 'color',\r\n                            value: rule.unreadColor || '',\r\n                            placeholder: '',\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.unreadColor = (event.target as HTMLInputElement).value;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                        m('tr', [\r\n                          m('td', app.translator.trans(translationPrefix + 'designs.data.is_enabled')),\r\n                          m('td', m('input', {\r\n                            type: 'checkbox',\r\n                            checked: rule.isEnabled,\r\n                            onchange: (event: InputEvent) => {\r\n                                rule.isEnabled = (event.target as HTMLInputElement).checked;\r\n                                this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                            },\r\n                          })),\r\n                        ]),\r\n                      ])\r\n                    ])\r\n                  ])\r\n                ])),\r\n                m('tr', m('td', Button.component({\r\n                  className: 'Button Button--block',\r\n                  onclick: () => {\r\n                    tagDesigns.push({\r\n                      themeName: '',\r\n                      tags: [],\r\n                      primaryBackgroundColor: '#e8ecf3',\r\n                      childBackgroundColor: '#e8ecf3',\r\n                      outlineBackgroundColor: '#595a58',\r\n                      unreadColor: '#2199fc',\r\n                      isEnabled: true\r\n                    });\r\n  \r\n                    this.setting(tagDesignSettingKey)(JSON.stringify(tagDesigns));\r\n                  },\r\n                }, app.translator.trans(translationPrefix + 'designs.add'))))\r\n              ]),\r\n            ]),\r\n          ]);\r\n        }\r\n    )\r\n  },\r\n  -999999\r\n);\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","settingsPrefix","translationPrefix","tagDesignSettingKey","app","add","designThemeAvailable","id","text","translator","trans","formatState","state","$","textContrastClass","color","icon","extensionData","registerSetting","setting","type","options","reduce","designs","design","default","label","help","tagDesigns","_this","JSON","parse","this","e","Array","isArray","tags","store","all","tagsAvailable","forEach","item","index","tag","data","attributes","position","push","name","m","style","map","rule","border","Button","className","onclick","splice","length","stringify","width","colspan","oncreate","_ref","dom","select2","multiple","on","dispatchEvent","CustomEvent","val","params","option","target","children","detach","append","change","themeName","trigger","onedit","event","detail","_ref2","templateResult","templateSelection","class","primaryBackgroundColor","placeholder","onchange","childBackgroundColor","outlineBackgroundColor","unreadColor","checked","isEnabled"],"sourceRoot":""}