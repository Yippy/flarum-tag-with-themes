(()=>{var t={n:n=>{var a=n&&n.__esModule?()=>n.default:()=>n;return t.d(a,{a}),a},d:(n,a)=>{for(var e in a)t.o(a,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:a[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};(()=>{"use strict";t.r(n);const a=flarum.core.compat.app;var e=t.n(a);const o=flarum.core.compat["common/components/Button"];var r=t.n(o);const i=flarum.core.compat["common/helpers/textContrastClass"];var s=t.n(i),l="yippy-tag-with-themes",d="yippy-tag-with-themes.admin.",c=l+".design-by-tags";e().initializers.add(l,(function(t){var n=[{id:"StickyNote",text:t.translator.trans(d+"options.design_options.sticky_note")},{id:"StickyNoteTag",text:t.translator.trans(d+"options.design_options.sticky_note_tag")},{id:"StickyNoteTab",text:t.translator.trans(d+"options.design_options.sticky_note_tab")},{id:"StickyNoteBanner",text:t.translator.trans(d+"options.design_options.sticky_note_banner")},{id:"StickyNoteOutline",text:t.translator.trans(d+"options.design_options.sticky_note_outline")},{id:"StickyNoteOutlineTag",text:t.translator.trans(d+"options.design_options.sticky_note_outline_tag")},{id:"StickyNoteOutlineTab",text:t.translator.trans(d+"options.design_options.sticky_note_outline_tab")},{id:"StickyNoteOutlineBanner",text:t.translator.trans(d+"options.design_options.sticky_note_outline_banner")},{id:"Basic",text:t.translator.trans(d+"options.design_options.basic")},{id:"BasicTag",text:t.translator.trans(d+"options.design_options.basic_tag")},{id:"BasicTab",text:t.translator.trans(d+"options.design_options.basic_tab")},{id:"BasicBanner",text:t.translator.trans(d+"options.design_options.basic_banner")},{id:"BasicOutline",text:t.translator.trans(d+"options.design_options.basic_outline")},{id:"BasicOutlineTag",text:t.translator.trans(d+"options.design_options.basic_outline_tag")},{id:"BasicOutlineTab",text:t.translator.trans(d+"options.design_options.basic_outline_tab")},{id:"BasicOutlineBanner",text:t.translator.trans(d+"options.design_options.basic_outline_banner")},{id:"Flat",text:t.translator.trans(d+"options.design_options.flat")},{id:"FlatTag",text:t.translator.trans(d+"options.design_options.flat_tag")},{id:"FlatTab",text:t.translator.trans(d+"options.design_options.flat_tab")},{id:"FlatBanner",text:t.translator.trans(d+"options.design_options.flat_banner")},{id:"FlatBorder",text:t.translator.trans(d+"options.design_options.flat_border")},{id:"FlatBorderTag",text:t.translator.trans(d+"options.design_options.flat_border_tag")},{id:"FlatBorderTab",text:t.translator.trans(d+"options.design_options.flat_border_tab")},{id:"FlatBorderBanner",text:t.translator.trans(d+"options.design_options.flat_border_banner")}];function a(t){return t.id?$('<span class="'+s()(t.color)+'" style="background: '+t.color+'; padding-top: 2px; padding-right: 5px; padding-bottom: 2px; padding-left: 5px;"><i class="'+t.icon+'"></i><span> '+t.text+"</span></span>"):t.text}t.extensionData.for(l).registerSetting({setting:l+".design-default",type:"select",options:n.reduce((function(t,n){return t[n.id]=n.text,t}),{}),default:"StickyNote",label:t.translator.trans(d+"labels.design_default"),help:t.translator.trans(d+"helps.design_default")}).registerSetting((function(){var e,o=this;try{e=JSON.parse(this.setting(c)())}catch(t){}Array.isArray(e)||(e=[]);var i=t.store.all("tags"),s=[];return i.forEach((function(t,n){var a=t.data;null!=a.attributes.position&&s.push({id:a.id,text:a.attributes.name,color:a.attributes.color,icon:a.attributes.icon})})),m(".Form-group",[m("label",t.translator.trans(d+"designs.title")),m(".helpText",t.translator.trans(d+"designs.description")),m("table",{style:"table-layout:fixed"},[m("tbody",[e.map((function(i,l){return m("table",{border:"1px solid black"},[m("thead",m("tr",[m("th",t.translator.trans(d+"designs.banner",{index:l+1})),m("th",r().component({className:"Button Button--icon",icon:"fas fa-times",onclick:function(){e.splice(l,1),o.setting(c)(e.length>0?JSON.stringify(e):null)}}))])),m("tbody",[m("table",[m("thead",m("tr",[m("th",{width:"40%"}),m("th",{width:"60%"})])),m("tbody",[m("tr",[m("th",{colspan:2},t.translator.trans(d+"designs.header.theme"))]),m("tr",[m("td",t.translator.trans(d+"designs.data.themeName")),m("td",m("select",{oncreate:function(t){var a=t.dom;return $(a).select2({width:"100%",multiple:!1,data:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var n=t.params.data.id,a=$(t.target).children("[value="+n+"]");a.detach(),$(t.target).append(a).change()})).val(i.themeName||[]).trigger("change")},onedit:function(t){i.themeName=t.detail,o.setting(c)(JSON.stringify(e))}}))]),m("tr",[m("td",t.translator.trans(d+"designs.data.tags")),m("td",m("select",{oncreate:function(t){var n=t.dom;return $(n).select2({width:"100%",multiple:!0,data:s,templateResult:a,templateSelection:a}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var n=t.params.data.id,a=$(t.target).children("[value="+n+"]");a.detach(),$(t.target).append(a).change()})).val(i.tags||[]).trigger("change")},onedit:function(t){i.tags=t.detail,o.setting(c)(JSON.stringify(e))}}))]),m("tr",[m("td",{colspan:2,class:"helpText"},t.translator.trans(d+"designs.data.tags_help"))]),m("tr",[m("th",{colspan:2},t.translator.trans(d+"designs.header.color_theme"))]),m("tr",[m("td",t.translator.trans(d+"designs.data.primary_background_color")),m("td",m("input.FormControl",{type:"color",value:i.primaryBackgroundColor||"",placeholder:"",onchange:function(t){i.primaryBackgroundColor=t.target.value,o.setting(c)(JSON.stringify(e))}}))]),m("tr",[m("td",t.translator.trans(d+"designs.data.child_background_color")),m("td",m("input.FormControl",{type:"color",value:i.childBackgroundColor||"",placeholder:"",onchange:function(t){i.childBackgroundColor=t.target.value,o.setting(c)(JSON.stringify(e))}}))]),m("tr",[m("td",t.translator.trans(d+"designs.data.outline_background_color")),m("td",m("input.FormControl",{type:"color",value:i.outlineBackgroundColor||"",placeholder:"",onchange:function(t){i.outlineBackgroundColor=t.target.value,o.setting(c)(JSON.stringify(e))}}))]),m("tr",[m("td",t.translator.trans(d+"designs.data.unread_color")),m("td",m("input.FormControl",{type:"color",value:i.unreadColor||"",placeholder:"",onchange:function(t){i.unreadColor=t.target.value,o.setting(c)(JSON.stringify(e))}}))]),m("tr",[m("td",t.translator.trans(d+"designs.data.is_enabled")),m("td",m("input",{type:"checkbox",checked:i.isEnabled,onchange:function(t){i.isEnabled=t.target.checked,o.setting(c)(JSON.stringify(e))}}))])])])])])})),m("tr",m("td",r().component({className:"Button Button--block",onclick:function(){e.push({themeName:"",tags:[],primaryBackgroundColor:"#e8ecf3",childBackgroundColor:"#e8ecf3",outlineBackgroundColor:"#595a58",unreadColor:"#2199fc",isEnabled:!0}),o.setting(c)(JSON.stringify(e))}},t.translator.trans(d+"designs.add"))))])])])}))}),-999999)})(),module.exports=n})();
//# sourceMappingURL=admin.js.map