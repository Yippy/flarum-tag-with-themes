(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.reg.get("core","admin/app");var a=t.n(e);const n=flarum.reg.get("core","common/components/Button");var o=t.n(n);const s=flarum.reg.get("core","common/helpers/textContrastClass");var r=t.n(s);const i="yippy-tag-with-themes",l="yippy-tag-with-themes.admin.",d=i+".design-by-tags";a().initializers.add(i,(()=>{const t=[{id:"Automatic",text:"Automatic",class:null,color:"#e4e9f1"},{id:"White",text:"White Color",class:"text-contrast--light",color:"#3d4c4c"},{id:"WhiteWithBorder",text:"White Color with Black Border",class:"outlinetextblackborder",color:"#3d4c4c"},{id:"Black",text:"Black Color",class:"text-contrast--dark",color:"#99bfbe"},{id:"BlackWithBorder",text:"Black Color with White Border",class:"outlinetextwhiteborder",color:"#99bfbe"}],e=[{id:"None",text:a().translator.trans(l+"options.design_options.none")},{id:"StickyNote",text:a().translator.trans(l+"options.design_options.sticky_note")},{id:"StickyNoteTag",text:a().translator.trans(l+"options.design_options.sticky_note_tag")},{id:"StickyNoteTab",text:a().translator.trans(l+"options.design_options.sticky_note_tab")},{id:"StickyNoteBanner",text:a().translator.trans(l+"options.design_options.sticky_note_banner")},{id:"StickyNoteOutline",text:a().translator.trans(l+"options.design_options.sticky_note_outline")},{id:"StickyNoteOutlineTag",text:a().translator.trans(l+"options.design_options.sticky_note_outline_tag")},{id:"StickyNoteOutlineTab",text:a().translator.trans(l+"options.design_options.sticky_note_outline_tab")},{id:"StickyNoteOutlineBanner",text:a().translator.trans(l+"options.design_options.sticky_note_outline_banner")},{id:"Basic",text:a().translator.trans(l+"options.design_options.basic")},{id:"BasicTag",text:a().translator.trans(l+"options.design_options.basic_tag")},{id:"BasicTab",text:a().translator.trans(l+"options.design_options.basic_tab")},{id:"BasicBanner",text:a().translator.trans(l+"options.design_options.basic_banner")},{id:"BasicOutline",text:a().translator.trans(l+"options.design_options.basic_outline")},{id:"BasicOutlineTag",text:a().translator.trans(l+"options.design_options.basic_outline_tag")},{id:"BasicOutlineTab",text:a().translator.trans(l+"options.design_options.basic_outline_tab")},{id:"BasicOutlineBanner",text:a().translator.trans(l+"options.design_options.basic_outline_banner")},{id:"Flat",text:a().translator.trans(l+"options.design_options.flat")},{id:"FlatTag",text:a().translator.trans(l+"options.design_options.flat_tag")},{id:"FlatTab",text:a().translator.trans(l+"options.design_options.flat_tab")},{id:"FlatBanner",text:a().translator.trans(l+"options.design_options.flat_banner")},{id:"FlatBorder",text:a().translator.trans(l+"options.design_options.flat_border")},{id:"FlatBorderTag",text:a().translator.trans(l+"options.design_options.flat_border_tag")},{id:"FlatBorderTab",text:a().translator.trans(l+"options.design_options.flat_border_tab")},{id:"FlatBorderBanner",text:a().translator.trans(l+"options.design_options.flat_border_banner")}];function n(t){return t.id?$('<span class="'+(t.class?t.class:r()(t.color))+'" style="background: '+t.color+'; padding-top: 2px; padding-right: 5px; padding-bottom: 2px; padding-left: 5px;"><i class="'+t.icon+'"></i><span> '+t.text+"</span></span>"):t.text}a().registry.for(i).registerPermission({permission:i+".display-themes",icon:"fas fa-unlock",label:a().translator.trans(l+"labels.display_themes"),help:a().translator.trans(l+"helps.display_themes"),allowGuest:!0},"view").registerSetting({setting:i+".design-default",type:"select",options:e.reduce(((t,e)=>(t[e.id]=e.text,t)),{}),default:"StickyNote",label:a().translator.trans(l+"labels.design_default"),help:a().translator.trans(l+"helps.design_default")}).registerSetting((function(){let s;try{s=JSON.parse(this.setting(d)())}catch(t){}Array.isArray(s)||(s=[]);let r=a().store.all("tags"),i=[];return r.forEach(((t,e)=>{let a=t.data;null!=a.attributes.position&&i.push({id:a.id,text:a.attributes.name,color:a.attributes.color,icon:a.attributes.icon})})),m(".Form-group",[m("label",a().translator.trans(l+"designs.title")),m(".helpText",a().translator.trans(l+"designs.description")),m("table",{style:"table-layout:fixed;color:#000000;"},[m("tbody",[s.map(((r,c)=>m("table",{border:"1px solid black",style:r.isEnabled?"background-color: #ffffff":"background-color: #F88379"},[m("thead",m("tr",[m("th",a().translator.trans(l+"designs.banner",{index:c+1,isEnabled:r.isEnabled?a().translator.trans(l+"designs.is_enabled.enabled"):a().translator.trans(l+"designs.is_enabled.disabled")})),m("th",o().component({className:"Button Button--icon",icon:"fas fa-times",onclick:()=>{s.splice(c,1),this.setting(d)(s.length>0?JSON.stringify(s):"")}}))])),m("tbody",[m("table",[m("thead",m("tr",[m("th",{width:"40%"}),m("th",{width:"60%"})])),m("tbody",[m("tr",[m("th",{colspan:2},a().translator.trans(l+"designs.header.theme"))]),m("tr",[m("td",a().translator.trans(l+"designs.data.themeName")),m("td",m("select",{oncreate:t=>{let{dom:a}=t;return $(a).select2({width:"100%",multiple:!1,data:e,templateResult:t=>'<span style="color:#000000;">'+(t.text+"</span>"),escapeMarkup:t=>t}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var e=t.params.data.id,a=$(t.target).children("[value="+e+"]");a.detach(),$(t.target).append(a).change()})).val(r.themeName||[]).trigger("change")},onedit:t=>{r.themeName=t.detail,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.tags")),m("td",m("select",{oncreate:t=>{let{dom:e}=t;return $(e).select2({width:"100%",multiple:!0,data:i,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var e=t.params.data.id,a=$(t.target).children("[value="+e+"]");a.detach(),$(t.target).append(a).change()})).val(r.tags||[]).trigger("change")},onedit:t=>{r.tags=t.detail,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",{colspan:2,class:"helpText"},a().translator.trans(l+"designs.data.tags_help"))]),m("tr",[m("th",{colspan:2},a().translator.trans(l+"designs.header.color_theme"))]),m("tr",[m("td",a().translator.trans(l+"designs.data.primary_background_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:r.primaryBackgroundColor||"",placeholder:"",onchange:t=>{r.primaryBackgroundColor=t.target.value,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.primary_font_class")),m("td",m("select",{oncreate:e=>{let{dom:a}=e;return $(a).select2({width:"100%",multiple:!1,data:t,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var e=t.params.data.id,a=$(t.target).children("[value="+e+"]");a.detach(),$(t.target).append(a).change()})).val(r.primaryFontClass).trigger("change")},onedit:t=>{r.primaryFontClass=t.detail,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.child_background_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:r.childBackgroundColor||"",placeholder:"",onchange:t=>{r.childBackgroundColor=t.target.value,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.child_font_class")),m("td",m("select",{oncreate:e=>{let{dom:a}=e;return $(a).select2({width:"100%",multiple:!1,data:t,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var e=t.params.data.id,a=$(t.target).children("[value="+e+"]");a.detach(),$(t.target).append(a).change()})).val(r.childFontClass).trigger("change")},onedit:t=>{r.childFontClass=t.detail,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.outline_background_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:r.outlineBackgroundColor||"",placeholder:"",onchange:t=>{r.outlineBackgroundColor=t.target.value,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.unread_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:r.unreadColor||"",placeholder:"",onchange:t=>{r.unreadColor=t.target.value,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.secondary_font_class")),m("td",m("select",{oncreate:e=>{let{dom:a}=e;return $(a).select2({width:"100%",multiple:!1,data:t,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var e=t.params.data.id,a=$(t.target).children("[value="+e+"]");a.detach(),$(t.target).append(a).change()})).val(r.secondaryFontClass).trigger("change")},onedit:t=>{r.secondaryFontClass=t.detail,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.opacity_background")),m("td",m("input.FormControl",{type:"number",style:"background-color:#e8ecf2;color:#000000",value:r.opacityBackground||1,placeholder:1,step:.1,min:0,max:1,onchange:t=>{r.opacityBackground=t.target.value,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.opacity_footer")),m("td",m("input.FormControl",{type:"number",style:"background-color:#e8ecf2;color:#000000",value:r.opacityFooter||1,placeholder:1,step:.1,min:0,max:1,onchange:t=>{r.opacityFooter=t.target.value,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.opacity_outline")),m("td",m("input.FormControl",{type:"number",style:"background-color:#e8ecf2;color:#000000",value:r.opacityOutline||1,placeholder:1,step:.1,min:0,max:1,onchange:t=>{r.opacityOutline=t.target.value,this.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",a().translator.trans(l+"designs.data.is_enabled")),m("td",m("input",{type:"checkbox",checked:r.isEnabled,onchange:t=>{r.isEnabled=t.target.checked,this.setting(d)(JSON.stringify(s))}}))])])])])]))),m("tr",m("td",o().component({className:"Button Button--block",onclick:()=>{s.push({themeName:"",tags:[],primaryBackgroundColor:"#e8ecf3",primaryFontClass:"Automatic",childBackgroundColor:"#e8ecf3",childFontClass:"Automatic",outlineBackgroundColor:"#595a58",unreadColor:"#2199fc",secondaryFontClass:"Automatic",opacityBackground:1,opacityFooter:1,opacityOutline:1,isEnabled:!0}),this.setting(d)(JSON.stringify(s))}},a().translator.trans(l+"designs.add"))))])])])}))}),-999999)})(),module.exports={}})();
//# sourceMappingURL=admin.js.map