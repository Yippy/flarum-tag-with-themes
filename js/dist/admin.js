(()=>{var t={n:a=>{var e=a&&a.__esModule?()=>a.default:()=>a;return t.d(e,{a:e}),e},d:(a,e)=>{for(var n in e)t.o(e,n)&&!t.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:e[n]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a)};(()=>{"use strict";const a=flarum.core.compat.app;var e=t.n(a);const n=flarum.core.compat["common/components/Button"];var o=t.n(n);const r=flarum.core.compat["common/helpers/textContrastClass"];var s=t.n(r),i="yippy-tag-with-themes",l="yippy-tag-with-themes.admin.",c=i+".design-by-tags";e().initializers.add(i,(function(t){var a=[{id:"Automatic",text:"Automatic",class:null,color:"#e4e9f1"},{id:"White",text:"White Color",class:"text-contrast--light",color:"#3d4c4c"},{id:"WhiteWithBorder",text:"White Color with Black Border",class:"outlinetextblackborder",color:"#3d4c4c"},{id:"Black",text:"Black Color",class:"text-contrast--dark",color:"#99bfbe"},{id:"BlackWithBorder",text:"Black Color with White Border",class:"outlinetextwhiteborder",color:"#99bfbe"}],e=[{id:"None",text:t.translator.trans(l+"options.design_options.none")},{id:"StickyNote",text:t.translator.trans(l+"options.design_options.sticky_note")},{id:"StickyNoteTag",text:t.translator.trans(l+"options.design_options.sticky_note_tag")},{id:"StickyNoteTab",text:t.translator.trans(l+"options.design_options.sticky_note_tab")},{id:"StickyNoteBanner",text:t.translator.trans(l+"options.design_options.sticky_note_banner")},{id:"StickyNoteOutline",text:t.translator.trans(l+"options.design_options.sticky_note_outline")},{id:"StickyNoteOutlineTag",text:t.translator.trans(l+"options.design_options.sticky_note_outline_tag")},{id:"StickyNoteOutlineTab",text:t.translator.trans(l+"options.design_options.sticky_note_outline_tab")},{id:"StickyNoteOutlineBanner",text:t.translator.trans(l+"options.design_options.sticky_note_outline_banner")},{id:"Basic",text:t.translator.trans(l+"options.design_options.basic")},{id:"BasicTag",text:t.translator.trans(l+"options.design_options.basic_tag")},{id:"BasicTab",text:t.translator.trans(l+"options.design_options.basic_tab")},{id:"BasicBanner",text:t.translator.trans(l+"options.design_options.basic_banner")},{id:"BasicOutline",text:t.translator.trans(l+"options.design_options.basic_outline")},{id:"BasicOutlineTag",text:t.translator.trans(l+"options.design_options.basic_outline_tag")},{id:"BasicOutlineTab",text:t.translator.trans(l+"options.design_options.basic_outline_tab")},{id:"BasicOutlineBanner",text:t.translator.trans(l+"options.design_options.basic_outline_banner")},{id:"Flat",text:t.translator.trans(l+"options.design_options.flat")},{id:"FlatTag",text:t.translator.trans(l+"options.design_options.flat_tag")},{id:"FlatTab",text:t.translator.trans(l+"options.design_options.flat_tab")},{id:"FlatBanner",text:t.translator.trans(l+"options.design_options.flat_banner")},{id:"FlatBorder",text:t.translator.trans(l+"options.design_options.flat_border")},{id:"FlatBorderTag",text:t.translator.trans(l+"options.design_options.flat_border_tag")},{id:"FlatBorderTab",text:t.translator.trans(l+"options.design_options.flat_border_tab")},{id:"FlatBorderBanner",text:t.translator.trans(l+"options.design_options.flat_border_banner")}];function n(t){return t.id?$('<span class="'+(t.class?t.class:s()(t.color))+'" style="background: '+t.color+'; padding-top: 2px; padding-right: 5px; padding-bottom: 2px; padding-left: 5px;"><i class="'+t.icon+'"></i><span> '+t.text+"</span></span>"):t.text}t.extensionData.for(i).registerPermission({permission:i+".display-themes",icon:"fas fa-unlock",label:t.translator.trans(l+"labels.display_themes"),help:t.translator.trans(l+"helps.display_themes"),allowGuest:!0},"view").registerSetting({setting:i+".design-default",type:"select",options:e.reduce((function(t,a){return t[a.id]=a.text,t}),{}),default:"StickyNote",label:t.translator.trans(l+"labels.design_default"),help:t.translator.trans(l+"helps.design_default")}).registerSetting((function(){var r,s=this;try{r=JSON.parse(this.setting(c)())}catch(t){}Array.isArray(r)||(r=[]);var i=t.store.all("tags"),d=[];return i.forEach((function(t,a){var e=t.data;null!=e.attributes.position&&d.push({id:e.id,text:e.attributes.name,color:e.attributes.color,icon:e.attributes.icon})})),m(".Form-group",[m("label",t.translator.trans(l+"designs.title")),m(".helpText",t.translator.trans(l+"designs.description")),m("table",{style:"table-layout:fixed;color:#000000;"},[m("tbody",[r.map((function(i,g){return m("table",{border:"1px solid black",style:i.isEnabled?"background-color: #ffffff":"background-color: #F88379"},[m("thead",m("tr",[m("th",t.translator.trans(l+"designs.banner",{index:g+1,isEnabled:i.isEnabled?t.translator.trans(l+"designs.is_enabled.enabled"):t.translator.trans(l+"designs.is_enabled.disabled")})),m("th",o().component({className:"Button Button--icon",icon:"fas fa-times",onclick:function(){r.splice(g,1),s.setting(c)(r.length>0?JSON.stringify(r):null)}}))])),m("tbody",[m("table",[m("thead",m("tr",[m("th",{width:"40%"}),m("th",{width:"60%"})])),m("tbody",[m("tr",[m("th",{colspan:2},t.translator.trans(l+"designs.header.theme"))]),m("tr",[m("td",t.translator.trans(l+"designs.data.themeName")),m("td",m("select",{oncreate:function(t){var a=t.dom;return $(a).select2({width:"100%",multiple:!1,data:e,templateResult:function(t){return'<span style="color:#000000;">'+(t.text+"</span>")},escapeMarkup:function(t){return t}}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,e=$(t.target).children("[value="+a+"]");e.detach(),$(t.target).append(e).change()})).val(i.themeName||[]).trigger("change")},onedit:function(t){i.themeName=t.detail,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.tags")),m("td",m("select",{oncreate:function(t){var a=t.dom;return $(a).select2({width:"100%",multiple:!0,data:d,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,e=$(t.target).children("[value="+a+"]");e.detach(),$(t.target).append(e).change()})).val(i.tags||[]).trigger("change")},onedit:function(t){i.tags=t.detail,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",{colspan:2,class:"helpText"},t.translator.trans(l+"designs.data.tags_help"))]),m("tr",[m("th",{colspan:2},t.translator.trans(l+"designs.header.color_theme"))]),m("tr",[m("td",t.translator.trans(l+"designs.data.primary_background_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:i.primaryBackgroundColor||"",placeholder:"",onchange:function(t){i.primaryBackgroundColor=t.target.value,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.primary_font_class")),m("td",m("select",{oncreate:function(t){var e=t.dom;return $(e).select2({width:"100%",multiple:!1,data:a,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,e=$(t.target).children("[value="+a+"]");e.detach(),$(t.target).append(e).change()})).val(i.primaryFontClass).trigger("change")},onedit:function(t){i.primaryFontClass=t.detail,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.child_background_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:i.childBackgroundColor||"",placeholder:"",onchange:function(t){i.childBackgroundColor=t.target.value,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.child_font_class")),m("td",m("select",{oncreate:function(t){var e=t.dom;return $(e).select2({width:"100%",multiple:!1,data:a,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,e=$(t.target).children("[value="+a+"]");e.detach(),$(t.target).append(e).change()})).val(i.childFontClass).trigger("change")},onedit:function(t){i.childFontClass=t.detail,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.outline_background_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:i.outlineBackgroundColor||"",placeholder:"",onchange:function(t){i.outlineBackgroundColor=t.target.value,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.unread_color")),m("td",m("input.FormControl",{type:"color",style:"background-color:#e8ecf2;color:#000000",value:i.unreadColor||"",placeholder:"",onchange:function(t){i.unreadColor=t.target.value,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.secondary_font_class")),m("td",m("select",{oncreate:function(t){var e=t.dom;return $(e).select2({width:"100%",multiple:!1,data:a,templateResult:n,templateSelection:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,e=$(t.target).children("[value="+a+"]");e.detach(),$(t.target).append(e).change()})).val(i.secondaryFontClass).trigger("change")},onedit:function(t){i.secondaryFontClass=t.detail,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.opacity_background")),m("td",m("input.FormControl",{type:"number",style:"background-color:#e8ecf2;color:#000000",value:i.opacityBackground||1,placeholder:1,step:.1,min:0,max:1,onchange:function(t){i.opacityBackground=t.target.value,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.opacity_footer")),m("td",m("input.FormControl",{type:"number",style:"background-color:#e8ecf2;color:#000000",value:i.opacityFooter||1,placeholder:1,step:.1,min:0,max:1,onchange:function(t){i.opacityFooter=t.target.value,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.opacity_outline")),m("td",m("input.FormControl",{type:"number",style:"background-color:#e8ecf2;color:#000000",value:i.opacityOutline||1,placeholder:1,step:.1,min:0,max:1,onchange:function(t){i.opacityOutline=t.target.value,s.setting(c)(JSON.stringify(r))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.is_enabled")),m("td",m("input",{type:"checkbox",checked:i.isEnabled,onchange:function(t){i.isEnabled=t.target.checked,s.setting(c)(JSON.stringify(r))}}))])])])])])})),m("tr",m("td",o().component({className:"Button Button--block",onclick:function(){r.push({themeName:"",tags:[],primaryBackgroundColor:"#e8ecf3",primaryFontClass:"Automatic",childBackgroundColor:"#e8ecf3",childFontClass:"Automatic",outlineBackgroundColor:"#595a58",unreadColor:"#2199fc",secondaryFontClass:"Automatic",opacityBackground:1,opacityFooter:1,opacityOutline:1,isEnabled:!0}),s.setting(c)(JSON.stringify(r))}},t.translator.trans(l+"designs.add"))))])])])}))}),-999999)})(),module.exports={}})();
//# sourceMappingURL=admin.js.map