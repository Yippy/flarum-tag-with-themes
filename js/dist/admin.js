(()=>{var t={n:a=>{var n=a&&a.__esModule?()=>a.default:()=>a;return t.d(n,{a:n}),n},d:(a,n)=>{for(var e in n)t.o(n,e)&&!t.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:n[e]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a)};(()=>{"use strict";const a=flarum.core.compat.app;var n=t.n(a);const e=flarum.core.compat["common/components/Button"];var o=t.n(e);const s=flarum.core.compat["common/helpers/textContrastClass"];var i=t.n(s),r="yippy-tag-with-themes",l="yippy-tag-with-themes.admin.",d=r+".design-by-tags";n().initializers.add(r,(function(t){var a=[{id:"Automatic",text:"Automatic",class:null,color:"#e4e9f1"},{id:"White",text:"White Color",class:"text-contrast--light",color:"#3d4c4c"},{id:"WhiteWithBorder",text:"White Color with Black Border",class:"outlinetextblackborder",color:"#3d4c4c"},{id:"Black",text:"Black Color",class:"text-contrast--dark",color:"#99bfbe"},{id:"BlackWithBorder",text:"Black Color with White Border",class:"outlinetextwhiteborder",color:"#99bfbe"}],n=[{id:"None",text:t.translator.trans(l+"options.design_options.none")},{id:"StickyNote",text:t.translator.trans(l+"options.design_options.sticky_note")},{id:"StickyNoteTag",text:t.translator.trans(l+"options.design_options.sticky_note_tag")},{id:"StickyNoteTab",text:t.translator.trans(l+"options.design_options.sticky_note_tab")},{id:"StickyNoteBanner",text:t.translator.trans(l+"options.design_options.sticky_note_banner")},{id:"StickyNoteOutline",text:t.translator.trans(l+"options.design_options.sticky_note_outline")},{id:"StickyNoteOutlineTag",text:t.translator.trans(l+"options.design_options.sticky_note_outline_tag")},{id:"StickyNoteOutlineTab",text:t.translator.trans(l+"options.design_options.sticky_note_outline_tab")},{id:"StickyNoteOutlineBanner",text:t.translator.trans(l+"options.design_options.sticky_note_outline_banner")},{id:"Basic",text:t.translator.trans(l+"options.design_options.basic")},{id:"BasicTag",text:t.translator.trans(l+"options.design_options.basic_tag")},{id:"BasicTab",text:t.translator.trans(l+"options.design_options.basic_tab")},{id:"BasicBanner",text:t.translator.trans(l+"options.design_options.basic_banner")},{id:"BasicOutline",text:t.translator.trans(l+"options.design_options.basic_outline")},{id:"BasicOutlineTag",text:t.translator.trans(l+"options.design_options.basic_outline_tag")},{id:"BasicOutlineTab",text:t.translator.trans(l+"options.design_options.basic_outline_tab")},{id:"BasicOutlineBanner",text:t.translator.trans(l+"options.design_options.basic_outline_banner")},{id:"Flat",text:t.translator.trans(l+"options.design_options.flat")},{id:"FlatTag",text:t.translator.trans(l+"options.design_options.flat_tag")},{id:"FlatTab",text:t.translator.trans(l+"options.design_options.flat_tab")},{id:"FlatBanner",text:t.translator.trans(l+"options.design_options.flat_banner")},{id:"FlatBorder",text:t.translator.trans(l+"options.design_options.flat_border")},{id:"FlatBorderTag",text:t.translator.trans(l+"options.design_options.flat_border_tag")},{id:"FlatBorderTab",text:t.translator.trans(l+"options.design_options.flat_border_tab")},{id:"FlatBorderBanner",text:t.translator.trans(l+"options.design_options.flat_border_banner")}];function e(t){return t.id?$('<span class="'+(t.class?t.class:i()(t.color))+'" style="background: '+t.color+'; padding-top: 2px; padding-right: 5px; padding-bottom: 2px; padding-left: 5px;"><i class="'+t.icon+'"></i><span> '+t.text+"</span></span>"):t.text}t.extensionData.for(r).registerPermission({permission:r+".display-themes",icon:"fas fa-unlock",label:t.translator.trans(l+"labels.display_themes"),help:t.translator.trans(l+"helps.display_themes"),allowGuest:!0},"view").registerSetting({setting:r+".design-default",type:"select",options:n.reduce((function(t,a){return t[a.id]=a.text,t}),{}),default:"StickyNote",label:t.translator.trans(l+"labels.design_default"),help:t.translator.trans(l+"helps.design_default")}).registerSetting((function(){var s,i=this;try{s=JSON.parse(this.setting(d)())}catch(t){}Array.isArray(s)||(s=[]);var r=t.store.all("tags"),c=[];return r.forEach((function(t,a){var n=t.data;null!=n.attributes.position&&c.push({id:n.id,text:n.attributes.name,color:n.attributes.color,icon:n.attributes.icon})})),m(".Form-group",[m("label",t.translator.trans(l+"designs.title")),m(".helpText",t.translator.trans(l+"designs.description")),m("table",{style:"table-layout:fixed"},[m("tbody",[s.map((function(r,g){return m("table",{border:"1px solid black"},[m("thead",m("tr",[m("th",t.translator.trans(l+"designs.banner",{index:g+1})),m("th",o().component({className:"Button Button--icon",icon:"fas fa-times",onclick:function(){s.splice(g,1),i.setting(d)(s.length>0?JSON.stringify(s):null)}}))])),m("tbody",[m("table",[m("thead",m("tr",[m("th",{width:"40%"}),m("th",{width:"60%"})])),m("tbody",[m("tr",[m("th",{colspan:2},t.translator.trans(l+"designs.header.theme"))]),m("tr",[m("td",t.translator.trans(l+"designs.data.themeName")),m("td",m("select",{oncreate:function(t){var a=t.dom;return $(a).select2({width:"100%",multiple:!1,data:n}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,n=$(t.target).children("[value="+a+"]");n.detach(),$(t.target).append(n).change()})).val(r.themeName||[]).trigger("change")},onedit:function(t){r.themeName=t.detail,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.tags")),m("td",m("select",{oncreate:function(t){var a=t.dom;return $(a).select2({width:"100%",multiple:!0,data:c,templateResult:e,templateSelection:e}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,n=$(t.target).children("[value="+a+"]");n.detach(),$(t.target).append(n).change()})).val(r.tags||[]).trigger("change")},onedit:function(t){r.tags=t.detail,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",{colspan:2,class:"helpText"},t.translator.trans(l+"designs.data.tags_help"))]),m("tr",[m("th",{colspan:2},t.translator.trans(l+"designs.header.color_theme"))]),m("tr",[m("td",t.translator.trans(l+"designs.data.primary_background_color")),m("td",m("input.FormControl",{type:"color",value:r.primaryBackgroundColor||"",placeholder:"",onchange:function(t){r.primaryBackgroundColor=t.target.value,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.primary_font_class")),m("td",m("select",{oncreate:function(t){var n=t.dom;return $(n).select2({width:"100%",multiple:!1,data:a,templateResult:e,templateSelection:e}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,n=$(t.target).children("[value="+a+"]");n.detach(),$(t.target).append(n).change()})).val(r.primaryFontClass).trigger("change")},onedit:function(t){r.primaryFontClass=t.detail,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.child_background_color")),m("td",m("input.FormControl",{type:"color",value:r.childBackgroundColor||"",placeholder:"",onchange:function(t){r.childBackgroundColor=t.target.value,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.child_font_class")),m("td",m("select",{oncreate:function(t){var n=t.dom;return $(n).select2({width:"100%",multiple:!1,data:a,templateResult:e,templateSelection:e}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,n=$(t.target).children("[value="+a+"]");n.detach(),$(t.target).append(n).change()})).val(r.childFontClass).trigger("change")},onedit:function(t){r.childFontClass=t.detail,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.outline_background_color")),m("td",m("input.FormControl",{type:"color",value:r.outlineBackgroundColor||"",placeholder:"",onchange:function(t){r.outlineBackgroundColor=t.target.value,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.unread_color")),m("td",m("input.FormControl",{type:"color",value:r.unreadColor||"",placeholder:"",onchange:function(t){r.unreadColor=t.target.value,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.secondary_font_class")),m("td",m("select",{oncreate:function(t){var n=t.dom;return $(n).select2({width:"100%",multiple:!1,data:a,templateResult:e,templateSelection:e}).on("change",(function(){this.dispatchEvent(new CustomEvent("edit",{detail:$(this).val()}))})).on("select2:select",(function(t){var a=t.params.data.id,n=$(t.target).children("[value="+a+"]");n.detach(),$(t.target).append(n).change()})).val(r.secondaryFontClass).trigger("change")},onedit:function(t){r.secondaryFontClass=t.detail,i.setting(d)(JSON.stringify(s))}}))]),m("tr",[m("td",t.translator.trans(l+"designs.data.is_enabled")),m("td",m("input",{type:"checkbox",checked:r.isEnabled,onchange:function(t){r.isEnabled=t.target.checked,i.setting(d)(JSON.stringify(s))}}))])])])])])})),m("tr",m("td",o().component({className:"Button Button--block",onclick:function(){s.push({themeName:"",tags:[],primaryBackgroundColor:"#e8ecf3",primaryFontClass:"Automatic",childBackgroundColor:"#e8ecf3",childFontClass:"Automatic",outlineBackgroundColor:"#595a58",unreadColor:"#2199fc",secondaryFontClass:"Automatic",isEnabled:!0}),i.setting(d)(JSON.stringify(s))}},t.translator.trans(l+"designs.add"))))])])])}))}),-999999)})(),module.exports={}})();
//# sourceMappingURL=admin.js.map